<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="description" content="Proyecto de ejemplos de JavaScript">  <!-- Descripción básica de la web -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  <!-- La meta viewport es esencial para que la página sea responsive en móviles -->
    <meta name="author" content="Francisco Jesús Delgado Almirón">          <!-- Autor de la página web -->
    <title>JavaScript - Tratamiento de errores</title>
    <link rel="icon" type="image/x-icon" href="../imagenes/favicon.ico">    <!-- Favicon de la página -->
    <!-- Buenas prácticas de SEO -->
    <meta name="keywords" content="HTML5, CSS3, diseño web">                <!-- Palabras clave que ayudan a los buscadores a entender el contenido (ya no tan relevantes en SEO moderno) -->
    <meta name="robots" content="index, follow">                            <!-- Indica a los motores de búsqueda si deben indexar la página y seguir los enlaces -->

    <link rel="stylesheet" href="../estilos.css">                           <!-- Hoja de estilos -->
    <!-- CSS del tema que colorea el código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
</head>

<body>

    <header>
        <div class="contenedor-header">

            <div class="header-imagenes-izquierda">
                <img src="../imagenes/logo_HTML5.svg" alt="Logo HTML5">
                <img src="../imagenes/logo_CSS3.svg" alt="Logo CSS3">
            </div>

            <h1 class="header-titulo">UD 03 - Introducción a JavaScript</h1>

            <div class="header-imagen-derecha">
                <img src="../imagenes/logo_JavaScript.svg" alt="Logo JavaScript">
            </div>

        </div>
    </header>

    <nav>
        <ul class="menu">
            <li><a href="../index.html">Uso de variables</a></li>
            <li><a href="condicionales.html">Condicionales y bucles</a></li>
            <li><a href="arrays.html">Arrays</a></li>
            <li><a href="errores.html" class="activo">Tratamiento de errores</a></li>
            <li><a href="funciones.html">Funciones</a></li>
            <li><a href="eventos.html">Eventos</a></li>
            <li><a href="DOM.html">Manipulación del DOM</a></li>
        </ul>
    </nav>

    <main>

        <section>
            <h2>Ejemplo de manejo de errores con try...catch</h2>
            <p>A continuación se muestran ejemplos de cómo capturar, gestionar y prevenir errores en JavaScript utilizando las sentencias <strong>try</strong>, <strong>catch</strong> y <strong>finally</strong></p>

            <div class="ejemplo-consola-container">
                <div class="caja-ejemplo">
                    <div class="caja-codigo">
                        <h3 class="codigo-js">Código JavaScript</h3>
                        <pre><code class="language-javascript">
const btnTratamientoErrores = document.getElementById("btnTratamientoErrores");
const salida = document.getElementById("resultadoTratamientoErrores");
let resultado = "";

// Ejemplo 1: Error al intentar ejecutar código inválido
try {
    resultado += "Intentando ejecutar código inválido...\n";
    let x = variablenodefinida + 5; // Esto lanzará ReferenceError
} catch (error) {
    resultado += "Error detectado: " + error.name + " - " + error.message + "\n\n";
}

// Ejemplo 2: Lanzar un error personalizado con throw
try {
    let nombre = "";
    resultado += "Verificando nombre...\n";                
    if (nombre.trim() === "") {
        throw new Error("El nombre no puede estar vacío");
    }
    resultado += "Nombre correcto.\n";
} catch (error) {
    resultado += "Error personalizado: " + error.message + "\n\n";
}

// Ejemplo 3: Bloque finally
try {
    resultado += "Probando bloque try/finally...\n";
} catch (error) {
    resultado += "Error: " + error.message + "\n\n";
} finally {
    resultado += "El bloque finally siempre se ejecuta.\n";
}

salida.textContent = resultado.trimStart();
                        </code></pre>
                    </div>

                    <button id="btnTratamientoErrores">Mostrar resultados</button>
                </div>

                <!-- Consola -->
                <div class="consola-wrapper">
                    <div class="consola-barra">
                        <span class="consola-titulo">usuario@ejemplosJavaScript: ~</span>
                        <div class="botones-consola">
                            <div class="consola-boton consola-cerrar"></div>
                            <div class="consola-boton consola-minimizar"></div>
                            <div class="consola-boton consola-maximizar"></div>
                        </div>
                    </div>
                    <div id="resultadoTratamientoErrores" class="consola">
                        <!-- Salida de errores -->
                    </div>
                </div>

            </div>
        </section>

    </main>

    <footer>
        <p>Lenguajes de Marcas y Sistemas de Gestión empresarial</p>
    </footer>

    <script src="../js/javascript.js"></script>
    <!-- Script principal de highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

</body>
</html>